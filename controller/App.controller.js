sap.ui.define(["sap/ui/core/mvc/Controller","de/scbrunn/fesnippet/model/FolderStructure","de/scbrunn/fesnippet/libs/showdown"],function(e,t){"use strict";return e.extend("de.scbrunn.fesnippet.controller.App",{onInit:function(){this.getView().setModel(t.getJSONModel());t.getFolderStructure()},onToggleOpenState:function(e){var n=e.getParameter("itemIndex");var r=e.getParameter("itemContext");var o=r.getPath();var i=this.getView().getModel().getObject(o);var s=this.byId("idNavTree");t.sendRequest(i.childUrl,o)},onSelectTopic:function(e,n,r){if(n!==undefined){var o=this.byId("idDetailPage");o.setTitle(r);t.getDocument(n).then(function(e){var t=new showdown.Converter;var n=showdown.getOptions();debugger;t.setOption("tables",true);t.setOption("completeHTMLDocument",true);var r=t.makeHtml(e);r=r.replace("</head>",'<link rel="stylesheet" href="css/markdown.css"></head>');var o=this.byId("idHTMLContent");o.setContent("");o.setContent(r)}.bind(this))}}})});