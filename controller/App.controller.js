sap.ui.define(["sap/ui/core/mvc/Controller","de/scbrunn/fesnippet/model/FolderStructure","de/scbrunn/fesnippet/libs/showdown"],function(e,t){"use strict";return e.extend("de.scbrunn.fesnippet.controller.App",{onInit:function(){this._theme={light:false};this.getView().setModel(t.getJSONModel());t.getFolderStructure()},onToggleOpenState:function(e){var n=e.getParameter("itemIndex");var i=e.getParameter("itemContext");var r=i.getPath();var o=this.getView().getModel().getObject(r);var s=this.byId("idNavTree");t.sendRequest(o.childUrl,r)},onSelectTopic:function(e,n,i){if(n!==undefined){var r=this.byId("idDetailPage");r.setTitle(i);t.getDocument(n).then(function(e){var t=new showdown.Converter;var n=showdown.getOptions();t.setOption("tables",true);t.setOption("completeHTMLDocument",true);e=e.replace("/img/","https://raw.githubusercontent.com/s-cbrunn/FioriElementsSnippets/main/img/");var i=t.makeHtml(e);var r=this.byId("idHTMLContent");r.setContent("");r.setContent(i)}.bind(this))}},onChangeTheme:function(e){if(this._theme.light===true){sap.ui.getCore().applyTheme("sap_fiori_3_dark");this._theme.light=false}else{sap.ui.getCore().applyTheme("sap_fiori_3");this._theme.light=true}}})});