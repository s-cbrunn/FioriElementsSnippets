sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,t){"use strict";return{getJSONModel:function(){this.oJsonModel=new e;return this.oJsonModel},getFolderStructure:function(){this.folderStructure={};this.folderRequest=new XMLHttpRequest;this.sendRequest("content/")},sendRequest:function(e,t){this.folderRequest.open("GET",e,true);this.folderRequest.send();this.folderRequest.onreadystatechange=function(){this.aTreeStructure=[];if(this.folderRequest.readyState===4){var e=document.createElement("html");e.innerHTML=this.folderRequest.responseText;var s=e.getElementsByTagName("a");for(var r=2;r<s.length;r++){if(s[r].className==="icon icon-directory"){debugger;var n=s[r].title.substring(0,s[r].title.length-1);var i=s[r].href.replace("http://","").replace(s[r].host,"");var o={text:n,childUrl:i,nodes:[{text:""}]};this.aTreeStructure.push(o)}else if(s[r].className==="icon icon icon-md icon-text"){var u=s[r].title.substring(0,s[r].title.length);var l={text:u};this.aTreeStructure.push(l)}}this.oJsonModel.setProperty(t?t+"/nodes":"/",this.aTreeStructure)}}.bind(this)}}});