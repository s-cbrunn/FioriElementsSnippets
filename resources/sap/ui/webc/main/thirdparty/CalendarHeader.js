sap.ui.define(["sap/ui/webc/common/thirdparty/localization/dates/CalendarDate","sap/ui/webc/common/thirdparty/base/locale/getLocale","sap/ui/webc/common/thirdparty/localization/DateFormat","sap/ui/webc/common/thirdparty/localization/getCachedLocaleDataInstance","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/types/CalendarType","sap/ui/webc/common/thirdparty/icons/slim-arrow-left","sap/ui/webc/common/thirdparty/icons/slim-arrow-right","./Icon","./generated/templates/CalendarHeaderTemplate.lit","./generated/i18n/i18n-defaults","./generated/themes/CalendarHeader.css"],function(e,t,n,a,r,s,o,i,d,h,c,p,l,y,u,m){"use strict";function f(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var T=f(e);var g=f(t);var w=f(n);var B=f(a);var b=f(r);var M=f(s);var D=f(d);var v=f(h);const C={tag:"ui5-calendar-header",languageAware:true,properties:{timestamp:{type:D},primaryCalendarType:{type:v},secondaryCalendarType:{type:v},isNextButtonDisabled:{type:Boolean},isPrevButtonDisabled:{type:Boolean},isMonthButtonHidden:{type:Boolean},isYearButtonHidden:{type:Boolean}},events:{"previous-press":{},"next-press":{},"show-month-press":{},"show-year-press":{}}};class x extends b{static get metadata(){return C}static get render(){return M}static get template(){return y}static get styles(){return m}static get dependencies(){return[l]}static async onDefine(){await i.fetchI18nBundle("@ui5/webcomponents")}constructor(){super();this.i18nBundle=i.getI18nBundle("@ui5/webcomponents")}onBeforeRendering(){const e=B(g());const t=w.getDateInstance({format:"y",calendarType:this.primaryCalendarType});const n=new Date(this.timestamp*1e3);const a=T.fromTimestamp(n.getTime(),this.primaryCalendarType);this._monthButtonText=e.getMonths("wide",this.primaryCalendarType)[a.getMonth()];this._yearButtonText=t.format(n,true);this._prevButtonText=this.i18nBundle.getText(u.CALENDAR_HEADER_PREVIOUS_BUTTON);this._nextButtonText=this.i18nBundle.getText(u.CALENDAR_HEADER_NEXT_BUTTON);if(this.hasSecondaryCalendarType){const e=w.getDateInstance({format:"y",calendarType:this.secondaryCalendarType});const t=this._getDisplayedSecondaryMonths(n);this._secondaryMonthInfo=this._getDisplayedSecondaryMonthText(t);this._secondMonthButtonText=this._secondaryMonthInfo.text;this._secondYearButtonText=e.format(n,true)}}onPrevButtonClick(e){this.fireEvent("previous-press",e)}onNextButtonClick(e){this.fireEvent("next-press",e)}onMonthButtonClick(e){this.fireEvent("show-month-press",e)}onMonthButtonKeyDown(e){if(o.isSpace(e)){e.preventDefault()}if(o.isEnter(e)){this.fireEvent("show-month-press",e)}}onMonthButtonKeyUp(e){if(o.isSpace(e)){e.preventDefault();this.fireEvent("show-month-press",e)}}onYearButtonClick(e){this.fireEvent("show-year-press",e)}onYearButtonKeyDown(e){if(o.isSpace(e)){e.preventDefault()}if(o.isEnter(e)){this.fireEvent("show-year-press",e)}}onYearButtonKeyUp(e){if(o.isSpace(e)){e.preventDefault();this.fireEvent("show-year-press",e)}}_getDisplayedSecondaryMonthText(e){const t=B(g());const n=t.getIntervalPattern();const a=B(g()).getMonthsStandAlone("abbreviated",this.secondaryCalendarType);const r=B(g()).getMonthsStandAlone("wide",this.secondaryCalendarType);if(e.startMonth===e.endMonth){return{text:t.getMonths("abbreviated",this.secondaryCalendarType)[e.startMonth],textInfo:t.getMonths("wide",this.secondaryCalendarType)[e.startMonth]}}return{text:n.replace(/\{0\}/,a[e.startMonth]).replace(/\{1\}/,a[e.endMonth]),textInfo:n.replace(/\{0\}/,r[e.startMonth]).replace(/\{1\}/,r[e.endMonth])}}_getDisplayedSecondaryMonths(e){let t=T.fromLocalJSDate(e,this.primaryCalendarType);t.setDate(1);t=new T(t,this.secondaryCalendarType);const n=t.getMonth();let a=T.fromLocalJSDate(e,this.primaryCalendarType);a.setDate(this._daysInMonth(a));a=new T(a,this.secondaryCalendarType);const r=a.getMonth();return{startMonth:n,endMonth:r}}_daysInMonth(e){e=new T(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()}get hasSecondaryCalendarType(){return!!this.secondaryCalendarType}get classes(){return{prevButton:{"ui5-calheader-arrowbtn":true,"ui5-calheader-arrowbtn-disabled":this.isPrevButtonDisabled},nextButton:{"ui5-calheader-arrowbtn":true,"ui5-calheader-arrowbtn-disabled":this.isNextButtonDisabled}}}get accInfo(){return{ariaLabelMonthButton:this.hasSecondaryCalendarType?`${this._monthButtonText},${this._secondaryMonthInfo.textInfo}`:`${this._monthButtonText}`}}}x.define();return x});