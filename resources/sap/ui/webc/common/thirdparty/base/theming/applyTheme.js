sap.ui.define(["../asset-registries/Themes","./createThemePropertiesStyleTag","./getThemeDesignerTheme","./ThemeLoaded","../FeaturesRegistry"],function(e,t,s,n,r){"use strict";const a="@ui5/webcomponents-theme-base";const i=()=>{const t=e.getRegisteredPackages();return t.has(a)};const o=async s=>{if(!i()){return}const n=await e.getThemeProperties(a,s);t(n,a)};const c=()=>{const e=document.head.querySelector(`style[data-ui5-theme-properties="${a}"]`);if(e){e.parentElement.removeChild(e)}};const m=async s=>{const n=e.getRegisteredPackages();n.forEach(async n=>{if(n===a){return}const r=await e.getThemeProperties(n,s);t(r,n)})};const h=()=>{const e=s();if(e){return e}const t=r.getFeature("OpenUI5Support");if(t){const e=t.cssVariablesLoaded();if(e){return{themeName:t.getConfigurationSettingsObject().theme}}}};const g=async t=>{const s=h();if(!s||t!==s.themeName){await o(t)}else{c()}const r=e.isThemeRegistered(t)?t:s&&s.baseThemeName;await m(r);n.fireThemeLoaded(t)};return g});