sap.ui.define(["sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/Device","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/main/thirdparty/Dialog","sap/ui/webc/main/thirdparty/Button","sap/ui/webc/main/thirdparty/GroupHeaderListItem","sap/ui/webc/main/thirdparty/List","sap/ui/webc/main/thirdparty/StandardListItem","./Bar","./generated/i18n/i18n-defaults","./generated/templates/ViewSettingsDialogTemplate.lit","./generated/themes/ViewSettingsDialog.css"],function(t,e,s,i,r,n,o,d,c,a,g,h,l){"use strict";function _(t){return t&&typeof t==="object"&&"default"in t?t["default"]:t}var u=_(s);var S=_(i);var y=_(r);var m=_(n);var f=_(o);var p=_(d);var B=_(c);const O={tag:"ui5-view-settings-dialog",managedSlots:true,properties:{sortDescending:{type:Boolean},_recentlyFocused:{type:Object},_initialSettings:{type:Object},_confirmedSettings:{type:Object},_currentSettings:{type:Object}},slots:{sortItems:{type:HTMLElement}},events:{confirm:{detail:{sortOrder:{type:String},sortBy:{type:String}}},cancel:{detail:{sortOrder:{type:String},sortBy:{type:String}}}}};class T extends S{constructor(){super();this.i18nBundle=t.getI18nBundle("@ui5/webcomponents-fiori")}static get render(){return u}static get metadata(){return O}static get dependencies(){return[a,m,y,p,B,f]}static get template(){return h}static get styles(){return l}static async onDefine(){await t.fetchI18nBundle("@ui5/webcomponents-fiori")}get _dialogTitle(){return this.i18nBundle.getText(g.VSD_DIALOG_TITLE_SORT)}get _okButtonLabel(){return this.i18nBundle.getText(g.VSD_SUBMIT_BUTTON)}get _cancelButtonLabel(){return this.i18nBundle.getText(g.VSD_CANCEL_BUTTON)}get _resetButtonLabel(){return this.i18nBundle.getText(g.VSD_RESET_BUTTON)}get _ascendingLabel(){return this.i18nBundle.getText(g.VSD_ORDER_ASCENDING)}get _descendingLabel(){return this.i18nBundle.getText(g.VSD_ORDER_DESCENDING)}get _sortOrderLabel(){return this.i18nBundle.getText(g.VSD_SORT_ORDER)}get _sortByLabel(){return this.i18nBundle.getText(g.VSD_SORT_BY)}get _isPhone(){return e.isPhone()}get _sortAscending(){return!this.sortDescending}get _disableResetButton(){return this._dialog&&JSON.stringify(this._currentSettings)===JSON.stringify(this._initialSettings)}get _settings(){const t={},e=this._sortOrder.getSelectedItems(),s=this._sortBy.getSelectedItems();t.sortOrder=e.length?e[0]:undefined;t.sortBy=s.length?s[0]:undefined;return t}show(){if(!this._dialog){this._sortOrder=this.shadowRoot.querySelector("[ui5-list][sort-order]");this._sortBy=this.shadowRoot.querySelector("[ui5-list][sort-by]");this._initialSettings=this._settings;this._currentSettings=this._initialSettings;this._confirmedSettings=this._initialSettings;this._dialog=this.shadowRoot.querySelector("[ui5-dialog]")}else{this._restoreSettings(this._confirmedSettings)}this._dialog.show()}close(){this._dialog&&this._dialog.close()}_focusRecentlyUsedControl(){if(!Object.keys(this._recentlyFocused).length){return}const t=this._recentlyFocused.getSelectedItems(),e=this._recentlyFocused.items,s=e[1]&&e[1].assignedNodes&&e[1].assignedNodes().length;if(t.length){t[0].focus()}else if(s){this._recentlyFocused.focusItem(e[1].assignedNodes()[0])}}_confirmSettings(){this._confirmedSettings=this._currentSettings;this.fireEvent("confirm",{sortOrder:this._confirmedSettings.sortOrder&&this._confirmedSettings.sortOrder.innerText,sortBy:this._confirmedSettings.sortBy?this._confirmedSettings.sortBy.innerText:""});this.close()}_cancelSettings(){this._restoreSettings(this._confirmedSettings);this.fireEvent("cancel",{sortOrder:this._confirmedSettings.sortOrder&&this._confirmedSettings.sortOrder.innerText,sortBy:this._confirmedSettings.sortBy?this._confirmedSettings.sortBy.innerText:""});this.close()}_restoreConfirmedOnEscape(t){if(t.detail.escPressed){this._cancelSettings()}}_resetSettings(){this._restoreSettings(this._initialSettings);this._recentlyFocused=this._sortOrder;this._focusRecentlyUsedControl()}_restoreSettings(t){const e=t.sortOrder&&t.sortOrder.innerText,s=t.sortBy&&t.sortBy.innerText;this._sortOrder.items.forEach(t=>{t.selected=e===t.innerText});this._sortBy.items[1].assignedNodes().forEach(t=>{t.selected=s===t.innerText});this._currentSettings=t}_onSortOrderChange(){this._recentlyFocused=this._sortOrder;this._currentSettings=this._settings}_onSortByChange(){this._recentlyFocused=this._sortBy;this._currentSettings=this._settings}}T.define();return T});